<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Aura Galaxy | Official Web3 Dashboard</title>
    <script src="https://unpkg.com"></script>
    <script src="https://accounts.google.com" async defer></script>
    <style>
        :root { --aura-purple: #bc13fe; --aura-glow: 0 0 25px rgba(188, 19, 254, 0.6); --bg-dark: #020205; }
        body { margin: 0; background: var(--bg-dark); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; height: 100vh; }
   
         .wallet-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.9);
    display: none; align-items: center; justify-content: center; z-index: 3000;
    backdrop-filter: blur(10px);
}

.wallet-card {
    background: #0d0d0d; border: 1px solid var(--aura-purple);
    width: 350px; border-radius: 25px; padding: 25px;
    box-shadow: 0 0 40px rgba(188, 19, 254, 0.3);
}

.wallet-header {
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid #222; padding-bottom: 15px; margin-bottom: 20px;
}

.close-wallet { font-size: 24px; cursor: pointer; color: #666; }

.balance-item {
    background: rgba(255,255,255,0.03); padding: 15px;
    border-radius: 15px; margin-bottom: 15px;
    display: flex; justify-content: space-between; align-items: center;
}

.coin-symbol {
    width: 35px; height: 35px; background: var(--aura-purple);
    border-radius: 50%; display: inline-flex; align-items: center;
    justify-content: center; font-weight: bold; margin-right: 10px;
}

.usdt-icon { background: #26a17b; } /* لون Tether الأخضر */

.coin-amount { font-size: 1.2rem; font-weight: bold; }

 <!-- نافذة المحفظة المنبثقة -->
<div id="walletModal" class="wallet-overlay">
    <div class="wallet-card">
        <div class="wallet-header">
            <h3>The Wallet 💳</h3>
            <span class="close-wallet" onclick="closeWallet()">×</span>
        </div>
        
        <div class="balance-section">
            <!-- رصيد Aura -->
            <div class="balance-item">
                <div class="coin-info">
                    <span class="coin-symbol">A</span>
                    <span class="coin-name">Aura Galaxy</span>
                </div>
                <div class="coin-amount">
                    <span id="walletAuraBalance">0.00</span> AURA
                </div>
            </div>

            <!-- رصيد USDT -->
            <div class="balance-item">
                <div class="coin-info">
                    <span class="coin-symbol usdt-icon">S</span>
                    <span class="coin-name">Tether USDT</span>
                </div>
                <div class="coin-amount">
                    <span id="walletUsdtBalance">0.00</span> USDT
                </div>
            </div>
        </div>

        <div class="wallet-footer">
            <button class="action-btn" onclick="refreshBalances()">تحديث الأرصدة</button>
        </div>
    </div>
</div>       

         /* الهالة الكوكبية العلوية */
        .galaxy-header {
            position: fixed; top: -150px; left: 50%; transform: translateX(-50%);
            width: 900px; height: 400px; background: radial-gradient(circle, rgba(188,19,254,0.15) 0%, transparent 70%);
            filter: blur(60px); z-index: -1; animation: pulse 6s infinite alternate;
        }
        @keyframes pulse { from { opacity: 0.4; transform: translateX(-50%) scale(1); } to { opacity: 0.8; transform: translateX(-50%) scale(1.1); } }

        /* شريط التنقل */
        .nav-bar { display: flex; justify-content: space-between; align-items: center; padding: 15px 40px; background: rgba(0,0,0,0.5); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(188,19,254,0.1); }

        /* الأزرار الجانبية */
        .side-trigger {
            position: fixed; top: 50%; transform: translateY(-50%);
            background: var(--aura-purple); padding: 25px 12px; writing-mode: vertical-rl;
            cursor: pointer; font-weight: bold; box-shadow: var(--aura-glow); transition: 0.3s; z-index: 100;
        }
        .left-btn { left: 0; border-radius: 0 15px 15px 0; }
        .right-btn { right: 0; border-radius: 15px 0 0 15px; }

        /* القوائم الجانبية */
        .side-panel {
            position: fixed; top: 0; width: 320px; height: 100%; background: #0a0a0a;
            border: 1px solid var(--aura-purple); transition: 0.5s ease; padding: 30px; z-index: 101; box-shadow: 0 0 50px #000;
        }
        #buyPanel { left: -380px; } #minePanel { right: -380px; }
        #buyPanel.open { left: 0; } #minePanel.open { right: 0; }

        /* المحتوى المركزي */
        .main-card { max-width: 420px; margin: 40px auto; text-align: center; background: rgba(15,15,15,0.7); padding: 30px; border-radius: 30px; border: 1px solid rgba(188,19,254,0.1); }
        .aura-logo { font-size: 70px; font-weight: bold; text-shadow: var(--aura-glow); margin-bottom: 5px; }
        
        input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid var(--aura-purple); background: #000; color: white; text-align: center; }
        .action-btn { width: 100%; padding: 15px; background: var(--aura-purple); border: none; border-radius: 12px; color: white; font-weight: bold; cursor: pointer; box-shadow: var(--aura-glow); }

        /* السجل والمحفظة */
        .log-box { background: #000; border-radius: 10px; padding: 10px; height: 100px; overflow-y: auto; font-size: 0.7rem; text-align: right; margin-top: 15px; }
    </style>
</head>
<body>

<div class="galaxy-header"></div>

<!-- شريط علوي -->
<nav class="nav-bar">
    <div id="userProfile" style="display:flex; align-items:center; gap:10px;">
        <div id="g_id_onload" data-client_id="YOUR_GOOGLE_ID" data-callback="handleLogin"></div>
        <div class="g_id_signin" data-type="icon"></div>
    </div>
    <button class="action-btn" style="width:auto; padding: 8px 20px;" onclick="toggleWallet()">The Wallet 💳</button>
</nav>

<!-- الأزرار الجانبية المفقودة (تمت إعادتها) -->
<div class="side-trigger left-btn" onclick="toggleSide('buyPanel')">شراء الهاش الآن ←</div>
<div class="side-trigger right-btn" onclick="toggleSide('minePanel')">→ منصة التعدين والمحفظة</div>

<!-- قائمة الشراء (يسار) -->
<div class="side-panel" id="buyPanel">
    <h3 style="color:var(--aura-purple)">شراء الهاش</h3>
    <select id="hSelect" onchange="updateBuyPrice()"></select>
    <div style="background:#111; padding:15px; border-radius:10px; margin:15px 0;">
        <small>السعر المطلوب:</small>
        <div id="bPrice" style="color:#00ff88; font-size:1.4rem;">1.50 USDT</div>
    </div>
    <button class="action-btn" onclick="addLog('شراء هاش', 'قيد الانتظار')">تأكيد الشراء</button>
    <button onclick="toggleSide('buyPanel')" style="background:none; border:none; color:#666; margin-top:20px; cursor:pointer;">إغلاق ×</button>
</div>

<!-- قائمة التعدين (يمين) -->
<div class="side-panel" id="minePanel">
    <h3 style="color:var(--aura-purple)">لوحة التعدين</h3>
    <div style="background:#111; padding:15px; border-radius:10px;">
        <div id="mCount" style="font-size:1.5rem;">0.00 AURA</div>
        <div id="mUsdt" style="color:#00ff88;">$ 0.00</div>
    </div>
    <button class="action-btn" style="margin-top:15px;" onclick="startMining()">ابدأ التعدين</button>
    <hr style="border:0; border-top:1px solid #222; margin:20px 0;">
    <input type="text" placeholder="عنوان محفظة Solana">
    <button class="action-btn" style="background:#222;" onclick="addLog('سحب', 'طلب مرسل')">أرسل للمحفظة</button>
    <button onclick="toggleSide('minePanel')" style="background:none; border:none; color:#666; margin-top:20px; cursor:pointer;">إغلاق ×</button>
</div>

<!-- المحتوى الرئيسي -->
<div class="main-card">
    <div class="aura-logo">A</div>
    <h2 style="letter-spacing:3px;">AURA <span style="color:var(--aura-purple)">GALAXY</span></h2>
    
    <div style="margin:20px 0;">
        <small style="color:#666;">القيمة السوقية</small>
        <div style="font-size:2rem; color:#00ff88;">$1,470,000</div>
    </div>

    <!-- الحاسبة -->
    <div style="background:#000; padding:15px; border-radius:15px;">
        <input type="number" id="cIn" placeholder="كمية AURA" oninput="calc()">
        <div id="cOut" style="color:var(--aura-purple); font-weight:bold; margin-top:5px;">0.00 USDT</div>
    </div>

    <button class="action-btn" style="margin-top:20px; font-size:1.1rem;">شراء AURA الآن</button>

    <div class="log-box" id="log">
        <div style="border-bottom:1px solid #111; padding-bottom:5px;">سجل معاملات Aura Galaxy</div>
    </div>
</div>

<script>
     // وظيفة فتح المحفظة
function openWallet() {
    document.getElementById('walletModal').style.display = 'flex';
}

// وظيفة إغلاق المحفظة
function closeWallet() {
    document.getElementById('walletModal').style.display = 'none';
}

// تحديث الأرصدة (يمكنك ربطها بـ API لاحقاً)
function refreshBalances() {
    // مثال لتحديث القيم برمجياً
    const currentMined = document.getElementById('mCount').innerText; // جلب القيمة من عداد التعدين
    document.getElementById('walletAuraBalance').innerText = currentMined;
    
    // إضافة سجل للعملية
    if(typeof addLog === "function") addLog("Wallet", "تم تحديث الأرصدة");
}

// إغلاق النافذة عند الضغط خارج الكارد
window.onclick = function(event) {
    let modal = document.getElementById('walletModal');
    if (event.target == modal) {
        closeWallet();
    }
}
    // تهيئة خيارات الهاش
    const s = document.getElementById('hSelect');
    for(let i=100; i<=2000; i+=100) { s.add(new Option(i + " Hashrate", i)); }

    function toggleSide(id) { document.getElementById(id).classList.toggle('open'); }
    
    function updateBuyPrice() { 
        document.getElementById('bPrice').innerText = ((s.value/100)*1.5).toFixed(2) + " USDT";
    }

    function calc() { 
        document.getElementById('cOut').innerText = (document.getElementById('cIn').value * 0.6).toFixed(2) + " USDT";
    }

    function addLog(type, details) {
        const log = document.getElementById('log');
        log.innerHTML = <div style="padding:4px 0;">[${new Date().toLocaleTimeString()}] ${type}: ${details}</div> + log.innerHTML;
    }

    let m=0;
    function startMining() {
        setInterval(() => {
            m += 0.01;
            document.getElementById('mCount').innerText = m.toFixed(2) + " AURA";
            document.getElementById('mUsdt').innerText = "$ " + (m*0.6).toFixed(2);
        }, 1000);
        addLog("التعدين", "تم البدء");
    }

    function handleLogin(r) {
        const u = JSON.parse(atob(r.credential.split('.')[1]));
        document.getElementById('userProfile').innerHTML = <img src="${u.picture}" style="width:30px; border-radius:50%;"> <span>${u.name}</span>;
        addLog("دخول", u.name);
    }
</script>
</body>
</html>